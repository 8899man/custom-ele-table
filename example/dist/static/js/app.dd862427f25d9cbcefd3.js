webpackJsonp([1],{"3hIC":function(e,t,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=[{month:"1月",lng:"",qiyou:"",chaiyou_che:"",ghg_1:"",tianranqi:4708.551,diweizhi:34.0753118273541,ghg_2:89226.2226903353,ywdl:47.344,ghg_3:249.550224,ghg_total:89475.7729143353},{month:"2月",lng:"",qiyou:"",chaiyou_che:"",ghg_1:"",tianranqi:4183.6351,diweizhi:34.1362548875259,ghg_2:79420.9469578391,ywdl:79.8599999999999,ghg_3:420.94206,ghg_total:79841.8890178391},{month:"3月",lng:"",qiyou:"",chaiyou_che:"",ghg_1:"",tianranqi:4335.0307,diweizhi:34.1227408954681,ghg_2:82262.4190016046,ywdl:"0",ghg_3:"0",ghg_total:"82262.4190016046"},{month:"4月",lng:"",qiyou:"",chaiyou_che:"",ghg_1:"",tianranqi:"4460.15809999999",diweizhi:"34.117761390566",ghg_2:"84624.5108506591",ywdl:"36.7620000000001",ghg_3:"193.772502000001",ghg_total:"84818.2833526591"},{month:"5月",lng:"",qiyou:"",chaiyou_che:"",ghg_1:"",tianranqi:"7764.10410000001",diweizhi:"34.1356281938569",ghg_2:"147388.853151911",ywdl:"0",ghg_3:"0",ghg_total:"147388.853151911"},{month:"6月",lng:"",qiyou:"",chaiyou_che:"",ghg_1:"",tianranqi:"7016.05299999999",diweizhi:"34.045081900037",ghg_2:"132835.035047484",ywdl:"0",ghg_3:"0",ghg_total:"132835.035047484"},{month:"7月",lng:"",qiyou:"",chaiyou_che:"",ghg_1:"",tianranqi:"4948.28300000001",diweizhi:"34.1013843731249",ghg_2:"93840.8493397861",ywdl:"0",ghg_3:"0",ghg_total:"93840.8493397861"},{month:"8月",lng:"",qiyou:"",chaiyou_che:"",ghg_1:"",tianranqi:"3222.59780000001",diweizhi:"34.1530557489984",ghg_2:"61206.9957911491",ywdl:"51.1059999999999",ghg_3:"269.379725999999",ghg_total:"61476.3755171491"},{month:"9月",lng:"",qiyou:"",chaiyou_che:"",ghg_1:"",tianranqi:"2695.5603",diweizhi:"33.6406699787054",ghg_2:"50428.8516124774",ywdl:"13.354",ghg_3:"70.3889339999999",ghg_total:"50499.2405464774"},{month:"10月",lng:"",qiyou:"",chaiyou_che:"",ghg_1:"",tianranqi:"4494.65529999998",diweizhi:"33.8306721318541",ghg_2:"84561.4472851368",ywdl:"53.4159999999999",ghg_3:"281.555736",ghg_total:"84843.0030211368"},{month:"11月",lng:"",qiyou:"",chaiyou_che:"",ghg_1:"",tianranqi:"4393.3581",diweizhi:"34.1282536085551",ghg_2:"83382.7202892539",ywdl:"75.5260000000002",ghg_3:"398.097546000001",ghg_total:"83780.8178352539"},{month:"12月",lng:"",qiyou:"",chaiyou_che:"",ghg_1:"",tianranqi:"5775.4311",diweizhi:"34.6650054157862",ghg_2:"111337.398620802",ywdl:"0",ghg_3:"0",ghg_total:"111337.398620802"},{month:"合计",lng:"31384.93",qiyou:"44532.415",chaiyou_che:"2268.26",ghg_1:"164.243528056464",tianranqi:"57997.4176",diweizhi:"34.1210520317374",ghg_2:"1100516.25063844",ywdl:"357.368",ghg_3:"1883.686728",ghg_total:"1102564.18089449"}];function n(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}a.map(function(e){for(var t in e)"month"!=t&&"0"!=e[t]&&(e[t]=parseFloat(e[t]-0).toFixed(2)),e.code||(e.code=n())}),t.default={tableHeader:[{title:"日期",key:"month",isCanEdit:0,rowSpan:2,colSpan:1},{title:"LNG 汽油 柴油燃烧排放",rowSpan:1,colSpan:4,children:[{title:"LNG/车用(升)",key:"lng",isCanEdit:1},{title:"汽油/车(升)",isCanEdit:1,key:"qiyou"},{title:"柴油/车(升)",key:"chaiyou_che",isCanEdit:1},{title:"GHG排放(吨)",key:"ghg_1",isCanEdit:1}]},{title:"天然气燃烧排放",rowSpan:1,colSpan:3,children:[{title:"天然气(万方)",key:"tianranqi",isCanEdit:1},{title:"低位热值(MJ/方)",key:"diweizhi",isCanEdit:1},{title:"GHG排放",key:"ghg_2",isCanEdit:1}]},{title:"外购电力排放",rowSpan:1,colSpan:2,children:[{title:"用网电量(万度)",key:"ywdl",isCanEdit:1},{title:"GHG排放",key:"ghg_3",isCanEdit:1}]},{title:"合计",children:[{title:"GHG排放总量(吨)",key:"ghg_total"}]}],tableBody:a}},"7hgO":function(e,t,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={tableBody:[[{name:"所属地区",key:"area",value:"广东省广州市"},{name:"所属领域",key:"lingyu",value:"钢铁"},{name:"行业",key:"hangye",value:"钢铁"},{name:"单位类型",key:"type",value:"科研"}],[{name:"单位详情名称",key:"type_name",value:"xx钢铁研究所"},{name:"法人单位代码",key:"code",value:"xxxxxxx"}],[{name:"法定代表人姓名",key:"person_name",value:"张三"},{name:"电话(区号)",key:"phone",value:"223457"}],[{name:"是否央企",key:"isYangqi",value:"是"},{name:"所属央企集团名称",key:"yangqi_name",value:"中xx集团"}]]}},"8ZEf":function(e,t){},KmYr:function(e,t,_){"use strict";var a=_("bI0u"),n=_("VU/8")(a.a,null,!1,null,null,null);t.a=n.exports},NHnr:function(e,t,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=_("7+uW"),n=_("lHA8"),r=_.n(n),l=_("Gu7T"),i=_.n(l),o=_("pFYg"),s=_.n(o),u=_("W3Iv"),d=_.n(u),c=_("BO1k"),h=_.n(c),p=_("d7EF"),b=_.n(p),y=_("5c8k").default,E={name:"App",data:function(){return{triggerFn:function(){alert(1)},tableDatas_2:_("cHvi").default.tableBody,tableHeader_2:_("cHvi").default.tableHeader,tableData:_("7hgO").default.tableBody,tableDatas:_("kNls").default.tableBody,tableHeader:_("kNls").default.tableHeader,curTitle:"电表",tableDatas_1:[],tableHeader_1:[],list:[{title:"唐总看这个",data:_("uYlW").default.tableBody,header:_("uYlW").default.tableHeader},{title:"电表",data:_("gDVc").default.tableBody,header:_("gDVc").default.tableHeader},{title:"GHG",data:_("3hIC").default.tableBody,header:_("3hIC").default.tableHeader},{title:"三层表头",data:_("VCcB").default.tableBody,header:_("VCcB").default.tableHeader}]}},components:{staticTable:y.staticTable,rowEditableTable:y.rowEditableTable,mutilTable:y.mutilTable},watch:{curTitle:{handler:function(e){var t=this.list.findIndex(function(t){return t.title==e});-1!=t&&(this.tableDatas_1=this.list[t].data,this.tableHeader_1=this.list[t].header)},immediate:!0,deep:!0}},created:function(){var e=_("cHvi").default.tableBody;console.log(this.getFn(e))},methods:{getFn:function(e){var t=e.map(function(e){var t=!0,_=!1,a=void 0;try{for(var n,r=h()(d()(e));!(t=(n=r.next()).done);t=!0){var l=n.value,i=b()(l,2),o=(i[0],i[1]);if("object"==(void 0===o?"undefined":s()(o))&&o.fn)return o.fn}}catch(e){_=!0,a=e}finally{try{!t&&r.return&&r.return()}finally{if(_)throw a}}}).filter(function(e){return e});return[].concat(i()(new r.a(t)))},toggle:function(e){this.curTitle=e.title},changeDataHandler:function(e){},rowEditTableDataChangeHandler:function(e){}}},f={render:function(){var e=this,t=e.$createElement,_=e._self._c||t;return _("div",{staticStyle:{padding:"20px 30px"},attrs:{id:"app"}},[_("p",{staticStyle:{"line-height":"60px"}},[e._v("基本情况表")]),e._v(" "),_("staticTable",{attrs:{tableData:e.tableData}}),e._v(" "),_("p",{staticStyle:{"line-height":"60px"}},[e._v("跨行单元格")]),e._v(" "),_("rowEditableTable",{attrs:{tableData:e.tableDatas,tableHeader:e.tableHeader,bodyNotShowProps:["code"],uniqueKey:"code"},on:{TableDataChange:e.rowEditTableDataChangeHandler}}),e._v(" "),_("p",{staticStyle:{"line-height":"60px"}},[e._v("多层表头")]),e._v(" "),_("p",e._l(e.list,function(t,a){return _("span",{key:a,staticStyle:{"padding-right":"20px"},style:e.curTitle==t.title?{color:"red"}:{},on:{click:function(_){e.toggle(t)}}},[e._v(e._s(t.title))])})),e._v(" "),_("mutilTable",{attrs:{firstThStyle:{color:"#ff0000"},firstThClickHandler:e.triggerFn,isFirstThEableClick:!0,tableData:e.tableDatas_1,tableHeader:e.tableHeader_1,bodyNotShowProps:["code"],uniqueKey:"code"},on:{TableDataChange:e.changeDataHandler}})],1)},staticRenderFns:[]},C=_("VU/8")(E,f,!1,null,null,null).exports;a.a.config.productionTip=!1,new a.a({el:"#app",components:{App:C},template:"<App/>"})},Q7jJ:function(e,t){},"U9/r":function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__=__webpack_require__("fZjL"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends__=__webpack_require__("Dd8w"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends__),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign__=__webpack_require__("woOf"),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign__),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_typeof__=__webpack_require__("pFYg"),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_typeof___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_typeof__),__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_entries__=__webpack_require__("W3Iv"),__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_entries___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_entries__),__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_get_iterator__=__webpack_require__("BO1k"),__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_get_iterator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_get_iterator__),__WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_slicedToArray__=__webpack_require__("d7EF"),__WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_slicedToArray___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_slicedToArray__),__WEBPACK_IMPORTED_MODULE_7_babel_runtime_core_js_set__=__webpack_require__("lHA8"),__WEBPACK_IMPORTED_MODULE_7_babel_runtime_core_js_set___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_babel_runtime_core_js_set__),__WEBPACK_IMPORTED_MODULE_8_babel_runtime_helpers_toConsumableArray__=__webpack_require__("Gu7T"),__WEBPACK_IMPORTED_MODULE_8_babel_runtime_helpers_toConsumableArray___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_babel_runtime_helpers_toConsumableArray__),__WEBPACK_IMPORTED_MODULE_9__tools_index__=__webpack_require__("ioJW"),__WEBPACK_IMPORTED_MODULE_10__input_vue__=__webpack_require__("jygi"),__WEBPACK_IMPORTED_MODULE_11__textarea_vue__=__webpack_require__("k7O+"),__WEBPACK_IMPORTED_MODULE_12__event_js__=__webpack_require__("jkVH"),__WEBPACK_IMPORTED_MODULE_13__tools_fns__=__webpack_require__("s/Bt");__webpack_exports__.a={name:"RowEditableTable",props:{tableData:{type:Array,default:function(){return new Array}},tableHeader:{type:Array,default:function(){return new Array}},bodyNotShowProps:{type:Array,default:function(){return new Array}},tableBorderColor:{type:String,default:"#ddd"},cellHeight:{type:[String,Number],default:"40"},uniqueKey:{type:String,default:""},firstThClickHandler:{type:Function},isFirstThEableClick:{type:Boolean,default:!1},firstThStyle:{type:Object,default:function(){}},isReadOnly:{type:Boolean,default:!1},bodyEmptyTips:{type:String,default:"暂无数据"},headerStyle:{type:Object,default:function(){return new Object({background:"rgb(230, 242, 246)",color:"#333"})}},cellStyle:{type:Object,default:function(){return new Object({background:"#fff",color:"#333"})}}},data:function(){return{ossTableHeader:[],ossTableData:[],onlyOneCellBodyArr:[],headerArr:[],bodyNotShowPropData:["cell_id"],curTableData:[],curEditTdId:"",textAreaContent:"",isBodyEmpty:!1,oneCellData:{code:"",key:""}}},computed:{headerClasses:function(){var e=this.headerArr.map(function(e){return e.classifyId});return[].concat(__WEBPACK_IMPORTED_MODULE_8_babel_runtime_helpers_toConsumableArray___default()(new __WEBPACK_IMPORTED_MODULE_7_babel_runtime_core_js_set___default.a(e)))}},created:function created(){var _this=this;__WEBPACK_IMPORTED_MODULE_12__event_js__.a.on("textarea-change",function(e){_this.textAreaContent=e}),__WEBPACK_IMPORTED_MODULE_12__event_js__.a.on("inputChange-"+this.$options.name,function(val){var _check=function(e){var t=!0,_=!1,a=void 0;try{for(var n,r=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_get_iterator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_entries___default()(e));!(t=(n=r.next()).done);t=!0){var l=n.value,i=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_slicedToArray___default()(l,2),o=i[0],s=i[1];if(val.prop==o)return!0;if("object"==(void 0===s?"undefined":__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_typeof___default()(s)))return s.fnParms&&s.fnParms.some(function(e){return e.code==val.parentColumnId||e.key==val.prop})}}catch(e){_=!0,a=e}finally{try{!t&&r.return&&r.return()}finally{if(_)throw a}}return!1},target_arr=_this.curTableData.filter(function(e){return e[_this.uniqueKey]==val.parentColumnId||_check(e)}),_temp=_this.curTableData.find(function(e){return e[_this.uniqueKey]==val.parentColumnId});"object"==__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_typeof___default()(_temp[val.prop])?_this.$set(_temp,val.prop,__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()(_temp[val.prop],{value:val.value})):_this.$set(_temp,val.prop,val.value),_temp&&(_this.$set(_this.curTableData,_idx,_temp),_this.$emit("TableDataChange",_this.curTableData));var _idx=_this.curTableData.findIndex(function(e){return e[_this.uniqueKey]==val.parentColumnId}),_temp_oss=_this.ossTableData.find(function(e){return e[_this.uniqueKey]==val.parentColumnId});"object"==__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_typeof___default()(_temp[val.prop])?_this.$set(_temp_oss,val.prop,__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()(_temp_oss[val.prop],{value:val.value})):_this.$set(_temp_oss,val.prop,val.value);var _idx_oss=_this.ossTableData.findIndex(function(e){return e[_this.uniqueKey]==val.parentColumnId});if(target_arr.length){target_arr.forEach(function(item){var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _iterator2=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_get_iterator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_entries___default()(item)),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var _ref3=_step2.value,_ref4=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_slicedToArray___default()(_ref3,2),k=_ref4[0],v=_ref4[1];if("object"==(void 0===v?"undefined":__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_typeof___default()(v))&&v.fn&&v.fnParms&&v.fnParms.length&&v.fnParms.some(function(e){return e.key==val.prop})){var argsArr=v.fnParms.map(function(e){return _this.getValueFromColumn(e.code,e.key)}),f=v.fn,floatAdd=__WEBPACK_IMPORTED_MODULE_9__tools_index__.a.floatAdd,floatMul=__WEBPACK_IMPORTED_MODULE_9__tools_index__.a.floatMul,floatDiv=__WEBPACK_IMPORTED_MODULE_9__tools_index__.a.floatDiv;__WEBPACK_IMPORTED_MODULE_13__tools_fns__.a[f]&&(f=__WEBPACK_IMPORTED_MODULE_13__tools_fns__.a[f]);try{var res=eval("("+f+")("+argsArr.toString()+")");["false",!1].includes(res)&&alert("公式运行错误，请检查参数!"),NaN!==Number(res)&&(res=Number(res).toFixed(3));var flag=["NaN%","Infinity%","NaN","Infinity",!1,"false"].includes(res);flag?_this.$set(v,"value",""):_this.$set(v,"value",res)}catch(e){throw e}}}}catch(e){_didIteratorError2=!0,_iteratorError2=e}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}});var copyCurTD=__WEBPACK_IMPORTED_MODULE_9__tools_index__.a.deepCopy(_this.curTableData),copyOssTD=__WEBPACK_IMPORTED_MODULE_9__tools_index__.a.deepCopy(_this.ossTableData);target_arr.forEach(function(e){copyCurTD.forEach(function(t,_){if(e[_this.uniqueKey]==t.code){_this.$set(_this.curTableData,_,e);var a=copyOssTD.findIndex(function(e){return e[_this.uniqueKey]==t.code});_this.$set(_this.ossTableData,a,__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({},_this.ossTableData[a],e))}})})}})},watch:{tableHeader:{handler:function(e){this.initData()},immediate:!0},textAreaContent:{handler:function(e){var t=this,_=this.curTableData.findIndex(function(e){return e[t.uniqueKey]==t.oneCellData.code}),a=this.curTableData.find(function(e){return e[t.uniqueKey]==t.oneCellData.code});this.$set(a,this.oneCellData.key,e),this.$set(this.curTableData,_,a),this.$emit("TableDataChange",this.curTableData)},deep:!0}},components:{MyInput:__WEBPACK_IMPORTED_MODULE_10__input_vue__.a,Textarea:__WEBPACK_IMPORTED_MODULE_11__textarea_vue__.a},methods:{getValueFromColumn:function(e,t){var _,a=this;return(_=this.curTableData.find(function(t){return t[a.uniqueKey]==e}))?"object"==__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_typeof___default()(_[t])?_[t].value?_[t].value:0:_[t]?_[t]:0:""},checkIfNum:function(e){return NaN!=Number(e)?Number(e):0},initData:function(){var e=this;this.ossTableHeader=__WEBPACK_IMPORTED_MODULE_9__tools_index__.a.deepCopy(this.tableHeader),this.ossTableData=__WEBPACK_IMPORTED_MODULE_9__tools_index__.a.deepCopy(this.tableData),this.curTableData=__WEBPACK_IMPORTED_MODULE_9__tools_index__.a.deepCopy(this.tableData),this.tableData.length&&this.tableData[0][this.uniqueKey]&&(this.oneCellData.code=this.tableData[0][this.uniqueKey]),this.isBodyEmpty=!this.ossTableData.length,this.bodyNotShowProps.map(function(t){e.bodyNotShowPropData.push(t)}),this.ossTableData.map(function(t){e.uniqueKey?t.cell_id||(t.cell_id=t[e.uniqueKey]):t.cell_id||(t.cell_id=__WEBPACK_IMPORTED_MODULE_9__tools_index__.a.guid())}),this.ossTableHeader.forEach(function(t,_){if(t.onlyOneCell){var a=t;-1==e.onlyOneCellBodyArr.findIndex(function(e){return e.key==a.key})&&(e.onlyOneCellBodyArr.push(a),e.oneCellData.key=a.key,e.tableData.length&&(e.textAreaContent=e.tableData[0][a.key])),setTimeout(function(){e.ossTableHeader.splice(_,1)},0)}}),this.giveIdx2Item(this.ossTableHeader),this.getHeaderItemArr(this.ossTableHeader)},giveIdx2Item:function(e){var t=this,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e.map(function(e,n){e.sortIdx||(e.sortIdx=(_?_+"_":"")+n),e.classifyId=a,e.children&&e.children.length&&t.giveIdx2Item(e.children,e.sortIdx,a+1)})},getHeaderItemArr:function(e){var t=this;!function e(_){_.map(function(_){if(1!=_.onlyOneCell)if(_.children&&_.children.length){if(-1==t.headerArr.findIndex(function(e){return e.title==_.title&&e.sortIdx==_.sortIdx})){var a=__WEBPACK_IMPORTED_MODULE_9__tools_index__.a.deepCopy(_);delete a.children,t.headerArr.push(a)}e(_.children)}else-1==t.headerArr.findIndex(function(e){return e.key==_.key})&&t.headerArr.push(_)})}(e)},getHeaderItemByKey:function(e){return this.tableHeader.find(function(t){return t.key==e})},getOneCellHeaderArr:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.onlyOneCellBodyArr,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return __WEBPACK_IMPORTED_MODULE_9__tools_index__.a.deepCopy(t).forEach(function(t){var a=__WEBPACK_IMPORTED_MODULE_9__tools_index__.a.deepCopy(t);delete a.children,_.push(a),t.children&&t.children.length&&e.getOneCellHeaderArr(t.children,_)}),_},oneCellHeader:function(){var e=this,t=this.$createElement,_=this.getOneCellHeaderArr().filter(function(e){return e.title});return t("div",{style:{borderTop:"1px solid "+this.tableBorderColor}},[_.map(function(_){return t("div",{attrs:{id:_.title},style:__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default()({lineHeight:e.cellHeight*_.rowSpan+"px",borderRight:"1px solid "+e.tableBorderColor,borderBottom:"1px solid "+e.tableBorderColor,width:"300px"},e.headerStyle),class:"flexBox Ellipsis"},[t("span",{style:{padding:"0 20px"}},[_.title])])})])},renderOneCellItem:function(){var e=this,t=this.$createElement;return this.onlyOneCellBodyArr.length?t("div",{class:"flexBox flex-ver-box alItSt",style:{width:"300px"}},[this.oneCellHeader(),this.onlyOneCellBodyArr.map(function(_){return t("div",{style:{overflow:"hidden",border:"1px solid "+e.tableBorderColor,borderLeft:"none",borderTop:"none",width:"300px"},key:_.key},[e.isBodyEmpty?null:t(__WEBPACK_IMPORTED_MODULE_11__textarea_vue__.a,{attrs:{addStyle:__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default()({height:40*e.ossTableData.length+e.ossTableData.length-1+"px"},e.cellStyle),propContent:e.textAreaContent,isReadonly:e.isReadOnly}})])})]):null},renderPanelBody:function(){var e=this,t=this.$createElement;return t("div",[t("table",{style:{border:"1px solid "+this.tableBorderColor,borderBottom:"none",borderLeft:"none"}},[t("thead",[this.headerClasses.map(function(_){return t("tr",{style:__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default()({},e.headerStyle,{borderTop:"1px solid "+e.tableBorderColor})},[e.headerArr.filter(function(e){return e.classifyId==_}).filter(function(e){return e.title}).map(function(t,_){return e.renderHeader(t,_)})])})]),t("tbody",{style:{borderTop:"1px solid "+e.tableBorderColor}},[e.ossTableData.map(function(t){return e.renderTableColumn(t)})])])])},getRowspan:function(e){return e.rowSpan?e.rowSpan:1},renderHeader:function(e,t){var _=this,a=this.$createElement,n={verticalAlign:"middle",borderLeft:"1px solid "+this.tableBorderColor};return a("th",{attrs:{rowspan:this.getRowspan(e),colspan:e.colSpan?e.colSpan:1},style:0==t&&this.isFirstThEableClick&&0==e.sortIdx&&0==e.classifyId?__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default()({},n,this.firstThStyle,{cursor:"pointer",height:this.cellHeight*this.getRowspan(e)+"px"}):__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default()({},n,{height:this.cellHeight*this.getRowspan(e)+"px"}),on:{click:function(){_.isFirstThEableClick&&0==t&&0==e.sortIdx&&0==e.classifyId&&_.firstThClickHandler()}}},[a("span",[e.title+(e.key?e.key:"")])])},getOneCellItemByKey:function(e){var t=this;return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.onlyOneCellBodyArr).find(function(_){return _.key?_.key==e:_.children&&_.children.length?t.getOneCellItemByKey(e,_.children):void 0})},tdClickHandler:function(e){this.curEditTdId=e},isAfrontB:function(e,t){for(var _=e.split("_"),a=t.split("_"),n=Math.min.apply(Math,[_.length,a.length]),r=0;r<n;r++){if(_[r]-a[r]>0)return 1;if(_[r]-a[r]<0)return-1}return 0},getHeaderItemSortIndex:function(e){var t=this.headerArr.find(function(t){return t.key==e});return t||console.error(t,e),t.sortIdx},renderTableColumn:function(e){var t=this,_=this.$createElement,a=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(e).filter(function(e){return!t.bodyNotShowPropData.includes(e)}).filter(function(e){return!t.bodyNotShowPropData.includes(e)}).filter(function(e){return!t.getOneCellItemByKey(e)}).sort(function(e,_){return t.isAfrontB(t.getHeaderItemSortIndex(e),t.getHeaderItemSortIndex(_))});return _("tr",{style:{width:"100%"}},[a.map(function(a,n){var r=_("span",{class:"flexBox ",style:{padding:"0 25px",minWidth:"100px",borderLeft:"1px solid "+t.tableBorderColor,height:t.cellHeight+"px"}},["object"==__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_typeof___default()(e[a])?""+e[a].value:""+e[a]]),l=_(__WEBPACK_IMPORTED_MODULE_10__input_vue__.a,{style:{minWidth:"100px"},attrs:{addStyle:"td_id_"+e[t.uniqueKey]+"_"+a+"_"+n!=t.curEditTdId?__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default()({borderTop:"none",borderBottom:"none",borderLeft:"1px solid "+t.tableBorderColor,borderRight:"none",borderRadius:0},t.cellStyle):{},parentColumnId:e.cell_id,componentName:t.$options.name,editPropName:a,value:"object"==__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_typeof___default()(e[a])?e[a].value:e[a]}});return t.bodyNotShowPropData.includes(a)?null:_("td",{class:"row-td",attrs:{id:"td_id_"+e[t.uniqueKey]+"_"+a+"_"+n},style:{borderBottom:"1px solid "+t.tableBorderColor,width:1/t.ossTableHeader.length*100+"%",verticalAlign:"middle"},on:{click:t.tdClickHandler.bind(t,"td_id_"+e[t.uniqueKey]+"_"+a+"_"+n)}},[t.isReadOnly?r:t.getHeaderItemByKey(a)&&t.getHeaderItemByKey(a).isCanEdit?"object"==__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_typeof___default()(e[a])&&0==e[a].isCanEdit?r:l:r])})])}},render:function(){var e=this,t=arguments[0];return t("section",{class:"nui-scroll "},[t("div",{style:{display:"flex"}},[t("div",[this.renderPanelBody()]),t("div",{style:{width:"300px"}},[this.renderOneCellItem()])]),this.isBodyEmpty?t("div",{class:"flexBox",style:{height:"100px",border:"1px solid "+e.tableBorderColor}},[e.bodyEmptyTips]):null])}}},VCcB:function(e,t,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={tableBody:[{explain:"",numer_value_this:"",serialNum:"1",code:"01000401",indexName:"",numer_value_last:"",index_value_this:"",denom_value_last:"",index_value_last:"",change_value:"",denom_unit:"",energy_code:"",numer_unit:"",unit_coeff:"",denom_value_this:"",quota_value:"",index_unit:"",energy_value_save:""},{explain:"",numer_value_this:"",serialNum:"2",code:"01000402",indexName:"",numer_value_last:"",index_value_this:"",denom_value_last:"",index_value_last:"",change_value:"",denom_unit:"",energy_code:"",numer_unit:"",unit_coeff:"",denom_value_this:"",quota_value:"",index_unit:"",energy_value_save:""},{explain:"",numer_value_this:"",serialNum:"3",code:"01000403",indexName:"",numer_value_last:"",index_value_this:"",denom_value_last:"",index_value_last:"",change_value:"",denom_unit:"",energy_code:"",numer_unit:"",unit_coeff:"",denom_value_this:"",quota_value:"",index_unit:"",energy_value_save:""},{explain:"",numer_value_this:"",serialNum:"4",code:"01000404",indexName:"",numer_value_last:"",index_value_this:"",denom_value_last:"",index_value_last:"",change_value:"",denom_unit:"",energy_code:"",numer_unit:"",unit_coeff:"",denom_value_this:"",quota_value:"",index_unit:"",energy_value_save:""},{explain:"",numer_value_this:"",serialNum:"5",code:"01000405",indexName:"",numer_value_last:"",index_value_this:"",denom_value_last:"",index_value_last:"",change_value:"",denom_unit:"",energy_code:"",numer_unit:"",unit_coeff:"",denom_value_this:"",quota_value:"",index_unit:"",energy_value_save:""}],tableHeader:[{title:"序号",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:3,colSpan:1,children:[{title:"",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:3,colSpan:1,children:[{key:"serialNum",title:"",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:3,colSpan:1,children:[]}]}]},{title:"能源名称",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:2,colSpan:1,children:[{title:"",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:2,colSpan:1,children:[{key:"indexName",title:"甲",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:1,colSpan:1,children:[]}]}]},{title:"计量单位",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:1,colSpan:3,children:[{title:"指标单位",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:1,colSpan:1,children:[{key:"index_unit",title:"乙",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:1,colSpan:1,children:[]}]},{title:"子项单位",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:1,colSpan:1,children:[{key:"numer_unit",title:"丙",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:1,colSpan:1,children:[]}]},{title:"母项单位",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:1,colSpan:1,children:[{key:"denom_unit",title:"丁",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:1,colSpan:1,children:[]}]}]},{title:"单位换算系数",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:2,colSpan:1,children:[{title:"",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:1,colSpan:1,children:[{key:"unit_coeff",title:"戊",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:1,colSpan:1,children:[]}]}]},{title:"代码",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:2,colSpan:1,children:[{title:"",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:1,colSpan:1,children:[{key:"energy_code",title:"己",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:1,colSpan:1,children:[]}]}]},{title:"本期值",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:1,colSpan:3,children:[{title:"指标值",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:1,colSpan:1,children:[{key:"index_value_this",title:"1",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:1,colSpan:1,children:[]}]},{title:"子项值",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:1,colSpan:1,children:[{key:"numer_value_this",title:"2",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:1,colSpan:1,children:[]}]},{title:"母项值",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:1,colSpan:1,children:[{key:"denom_value_this",title:"3",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:1,colSpan:1,children:[]}]}]},{title:"同期值",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:1,colSpan:3,children:[{title:"指标值",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:1,colSpan:1,children:[{key:"index_value_last",title:"4",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:1,colSpan:1,children:[]}]},{title:"子项值",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:1,colSpan:1,children:[{key:"numer_value_last",title:"5",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:1,colSpan:1,children:[]}]},{title:"母项值",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:1,colSpan:1,children:[{key:"denom_value_last",title:"6",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:1,colSpan:1,children:[]}]}]},{title:"与同期值比",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:1,colSpan:2,children:[{title:"节能量",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:1,colSpan:1,children:[{key:"energy_value_save",title:"7",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:1,colSpan:1,children:[]}]},{title:"变化率(%)",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:1,colSpan:1,children:[{key:"change_value",title:"8",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:1,colSpan:1,children:[]}]}]},{title:"国家(地区)定额",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:2,colSpan:1,children:[{title:"",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:1,colSpan:1,children:[{key:"quota_value",title:"9",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:1,colSpan:1,children:[]}]}]},{title:"影响指标变化因素的说明",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:2,colSpan:1,children:[{title:"",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:1,colSpan:1,children:[{key:"explain",title:"10",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:1,colSpan:1,children:[]}]}]}]}},"XW/M":function(e,t){},bI0u:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__=__webpack_require__("fZjL"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends__=__webpack_require__("Dd8w"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends__),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_set__=__webpack_require__("lHA8"),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_set___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_set__),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_toConsumableArray__=__webpack_require__("Gu7T"),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_toConsumableArray___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_toConsumableArray__),__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_assign__=__webpack_require__("woOf"),__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_assign___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_assign__),__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_typeof__=__webpack_require__("pFYg"),__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_typeof___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_typeof__),__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_entries__=__webpack_require__("W3Iv"),__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_entries___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_entries__),__WEBPACK_IMPORTED_MODULE_7_babel_runtime_core_js_get_iterator__=__webpack_require__("BO1k"),__WEBPACK_IMPORTED_MODULE_7_babel_runtime_core_js_get_iterator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_babel_runtime_core_js_get_iterator__),__WEBPACK_IMPORTED_MODULE_8_babel_runtime_helpers_slicedToArray__=__webpack_require__("d7EF"),__WEBPACK_IMPORTED_MODULE_8_babel_runtime_helpers_slicedToArray___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_babel_runtime_helpers_slicedToArray__),__WEBPACK_IMPORTED_MODULE_9__tools_index__=__webpack_require__("ioJW"),__WEBPACK_IMPORTED_MODULE_10__input_vue__=__webpack_require__("jygi"),__WEBPACK_IMPORTED_MODULE_11__event_js__=__webpack_require__("jkVH"),__WEBPACK_IMPORTED_MODULE_12__tools_fns__=__webpack_require__("s/Bt");__webpack_exports__.a={name:"MutilTable",props:{tableData:{type:Array,default:function(){return new Array}},tableHeader:{type:Array,default:function(){return new Array}},bodyNotShowProps:{type:Array,default:function(){return new Array}},tableBorderColor:{type:String,default:"#ddd"},cellHeight:{type:[String,Number],default:"40"},uniqueKey:{type:String,default:""},firstThClickHandler:{type:Function},isFirstThEableClick:{type:Boolean,default:!1},firstThStyle:{type:Object,default:function(){}},isReadOnly:{type:Boolean,default:!1},bodyEmptyTips:{type:String,default:"暂无数据"},headerStyle:{type:Object,default:function(){return new Object({background:"rgb(230, 242, 246)",color:"#333"})}},cellStyle:{type:Object,default:function(){return new Object({background:"#fff",color:"#333"})}}},data:function(){return{ossTableHeader:[],ossTableData:[],curEditTdId:"",headerArr:[],bodyNotShowPropData:["table_id"],curTableData:[],isBodyEmpty:void 0}},components:{MyInput:__WEBPACK_IMPORTED_MODULE_10__input_vue__.a},created:function created(){var _this=this;__WEBPACK_IMPORTED_MODULE_11__event_js__.a.on("inputChange-"+this.$options.name,function(val){var _check=function(e){var t=!0,_=!1,a=void 0;try{for(var n,r=__WEBPACK_IMPORTED_MODULE_7_babel_runtime_core_js_get_iterator___default()(__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_entries___default()(e));!(t=(n=r.next()).done);t=!0){var l=n.value,i=__WEBPACK_IMPORTED_MODULE_8_babel_runtime_helpers_slicedToArray___default()(l,2),o=i[0],s=i[1];if(val.prop==o)return!0;if("object"==(void 0===s?"undefined":__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_typeof___default()(s)))return s.fnParms&&s.fnParms.some(function(e){return e.code==val.parentColumnId||e.key==val.prop})}}catch(e){_=!0,a=e}finally{try{!t&&r.return&&r.return()}finally{if(_)throw a}}return!1},target_arr=_this.curTableData.filter(function(e){return e[_this.uniqueKey]==val.parentColumnId||_check(e)}),_temp=_this.curTableData.find(function(e){return e[_this.uniqueKey]==val.parentColumnId});"object"==__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_typeof___default()(_temp[val.prop])?_this.$set(_temp,val.prop,__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_assign___default()(_temp[val.prop],{value:val.value})):_this.$set(_temp,val.prop,val.value),_temp&&(_this.$set(_this.curTableData,_idx,_temp),_this.$emit("TableDataChange",_this.curTableData));var _idx=_this.curTableData.findIndex(function(e){return e[_this.uniqueKey]==val.parentColumnId}),_temp_oss=_this.ossTableData.find(function(e){return e[_this.uniqueKey]==val.parentColumnId});"object"==__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_typeof___default()(_temp[val.prop])?_this.$set(_temp_oss,val.prop,__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_assign___default()(_temp_oss[val.prop],{value:val.value})):_this.$set(_temp_oss,val.prop,val.value);var _idx_oss=_this.ossTableData.findIndex(function(e){return e[_this.uniqueKey]==val.parentColumnId});if(target_arr.length){try{target_arr.forEach(function(item){var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _iterator2=__WEBPACK_IMPORTED_MODULE_7_babel_runtime_core_js_get_iterator___default()(__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_entries___default()(item)),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var _ref3=_step2.value,_ref4=__WEBPACK_IMPORTED_MODULE_8_babel_runtime_helpers_slicedToArray___default()(_ref3,2),k=_ref4[0],v=_ref4[1];if("object"==(void 0===v?"undefined":__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_typeof___default()(v))&&v.fn&&v.fnParms&&v.fnParms.length&&v.fnParms.some(function(e){return e.key==val.prop})){var argsArr=v.fnParms.map(function(e){return _this.getValueFromColumn(e.code,e.key)}),f=v.fn,floatAdd=__WEBPACK_IMPORTED_MODULE_9__tools_index__.a.floatAdd,floatMul=__WEBPACK_IMPORTED_MODULE_9__tools_index__.a.floatMul,floatDiv=__WEBPACK_IMPORTED_MODULE_9__tools_index__.a.floatDiv;__WEBPACK_IMPORTED_MODULE_12__tools_fns__.a[f]&&(f=__WEBPACK_IMPORTED_MODULE_12__tools_fns__.a[f]);try{var res=eval("("+f+")("+argsArr.toString()+")");["false",!1].includes(res)&&alert("公式运行错误，请检查参数!"),NaN!==Number(res)&&(res=Number(res).toFixed(3));var flag=["NaN%","Infinity%","NaN","Infinity"].includes(res);flag?_this.$set(v,"value",""):_this.$set(v,"value",res)}catch(e){throw e}}}}catch(e){_didIteratorError2=!0,_iteratorError2=e}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}})}catch(e){throw e}var copyCurTD=__WEBPACK_IMPORTED_MODULE_9__tools_index__.a.deepCopy(_this.curTableData),copyOssTD=__WEBPACK_IMPORTED_MODULE_9__tools_index__.a.deepCopy(_this.ossTableData);target_arr.forEach(function(e){copyCurTD.forEach(function(t,_){if(e[_this.uniqueKey]==t.code){_this.$set(_this.curTableData,_,e);var a=copyOssTD.findIndex(function(e){return e[_this.uniqueKey]==t.code});_this.$set(_this.ossTableData,a,__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_assign___default()({},_this.ossTableData[a],e))}})})}})},computed:{headerClasses:function(){var e=this.headerArr.map(function(e){return e.classifyId});return[].concat(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_toConsumableArray___default()(new __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_set___default.a(e)))}},watch:{tableHeader:{handler:function(e){this.initData()},immediate:!0,deep:!0}},methods:{getValueFromColumn:function(e,t){var _,a=this;return(_=this.curTableData.find(function(t){return t[a.uniqueKey]==e}))?"object"==__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_typeof___default()(_[t])?_[t].value?_[t].value:0:_[t]?_[t]:0:0},checkIfNum:function(e){return NaN!=Number(e)?Number(e):0},initData:function(){var e=this;if(this.headerArr=[],this.ossTableData=__WEBPACK_IMPORTED_MODULE_9__tools_index__.a.deepCopy(this.tableData),this.ossTableHeader=__WEBPACK_IMPORTED_MODULE_9__tools_index__.a.deepCopy(this.tableHeader),this.curTableData=__WEBPACK_IMPORTED_MODULE_9__tools_index__.a.deepCopy(this.tableData),this.bodyNotShowPropData=[].concat(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_toConsumableArray___default()(__WEBPACK_IMPORTED_MODULE_9__tools_index__.a.deepCopy(this.bodyNotShowProps)),["table_id"]),this.ossTableData.forEach(function(t){e.uniqueKey?t.table_id=t[e.uniqueKey]?t[e.uniqueKey]:__WEBPACK_IMPORTED_MODULE_9__tools_index__.a.guid():t.table_id||(t.table_id=__WEBPACK_IMPORTED_MODULE_9__tools_index__.a.guid())}),this.ossTableData.length){var t=!0,_=!1,a=void 0;try{for(var n,r=__WEBPACK_IMPORTED_MODULE_7_babel_runtime_core_js_get_iterator___default()(__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_entries___default()(this.ossTableData[0]));!(t=(n=r.next()).done);t=!0){var l=n.value,i=__WEBPACK_IMPORTED_MODULE_8_babel_runtime_helpers_slicedToArray___default()(l,2),o=i[0],s=i[1];"object"==(void 0===s?"undefined":__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_typeof___default()(s))&&this.combineCellByKey(o)}}catch(e){_=!0,a=e}finally{try{!t&&r.return&&r.return()}finally{if(_)throw a}}this.isBodyEmpty=!1}else this.isBodyEmpty=!0;this.giveIdx2Item(this.ossTableHeader),this.getHeaderItemArr(this.ossTableHeader)},combineCellByKey:function(e){var t=[];this.ossTableData.forEach(function(_){-1==t.findIndex(function(t){return __WEBPACK_IMPORTED_MODULE_9__tools_index__.a.checkIfObjectEqual(t,_[e])})?t.push(_[e]):delete _[e]})},classifyHeaderHandler:function(){var e=this,t=this.$createElement,_={verticalAlign:"middle",borderRight:"1px solid "+this.tableBorderColor};return t("thead",[this.headerClasses.map(function(a){return t("tr",{style:__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default()({},e.headerStyle,{borderTop:"1px solid "+e.tableBorderColor})},[e.headerArr.filter(function(e){return e.classifyId==a}).filter(function(e){return e.title}).map(function(a,n){return t("th",{attrs:{rowspan:e.getRowspan(a),colspan:a.colSpan?a.colSpan:1},style:0==n&&e.isFirstThEableClick&&0==a.sortIdx&&0==a.classifyId?__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default()({},_,e.firstThStyle,{cursor:"pointer",height:e.cellHeight*e.getRowspan(a)+"px"}):__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default()({},_,{height:e.cellHeight*e.getRowspan(a)+"px"}),on:{click:function(){e.isFirstThEableClick&&0==n&&0==a.sortIdx&&0==a.classifyId&&e.firstThClickHandler()}}},[t("span",[a.title+(a.key?a.key:"")])])})])})])},tdClickHandler:function(e,t,_,a){if(a.caozuo){var n=a.caozuo._clickHandler;"caozuo"==_&&n&&"function"==typeof n&&n.apply(this)}t&&(this.curEditTdId=e)},renderPanelBody:function(){var e=this,t=this.$createElement;return t("div",[t("table",{attrs:{cellspacing:"0",cellpadding:"0"},style:{width:"100%",borderLeft:"1px solid "+this.tableBorderColor,borderRight:"1px solid "+this.tableBorderColor}},[this.classifyHeaderHandler(),!1===this.isBodyEmpty?t("tbody",{style:{width:"100%",borderTop:"1px solid "+e.tableBorderColor}},[e.ossTableData.map(function(t){return e.renderTableColumn(t)})]):null]),!1===this.isBodyEmpty?null:t("div",{class:"flexBox",style:{height:"100px",border:"1px solid "+e.tableBorderColor}},[e.bodyEmptyTips])])},getHeaderItemSortIndex:function(e){var t=this.headerArr.find(function(t){return t.key==e});return t||console.error(t,e),t.sortIdx},getHeaderItemArr:function(e){var t=this;!function e(_){_.map(function(_){if(_.children&&_.children.length){if(-1==t.headerArr.findIndex(function(e){return e.title==_.title&&e.sortIdx==_.sortIdx})){var a=__WEBPACK_IMPORTED_MODULE_9__tools_index__.a.deepCopy(_);delete a.children,t.headerArr.push(a)}e(_.children)}else-1==t.headerArr.findIndex(function(e){return e.key==_.key})&&t.headerArr.push(_)})}(e)},getRowspan:function(e){return e.rowSpan?e.rowSpan:1},getHeaderItemByKey:function(e){return this.headerArr.find(function(t){return t.key==e})},isAfrontB:function(e,t){for(var _=e.split("_"),a=t.split("_"),n=Math.min.apply(Math,[_.length,a.length]),r=0;r<n;r++){if(_[r]-a[r]>0)return 1;if(_[r]-a[r]<0)return-1}return 0},renderTableColumn:function(e){var t=this,_=this.$createElement,a=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(e).filter(function(e){return!t.bodyNotShowPropData.includes(e)}).sort(function(e,_){return t.isAfrontB(t.getHeaderItemSortIndex(e),t.getHeaderItemSortIndex(_))});return _("tr",{style:__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default()({width:"100%"},this.cellStyle)},[a.map(function(a,n){t.cellHeight,"object"==__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_typeof___default()(e[a])&&e[a].rowSpan;var r=_("span",{class:"flexBox ",style:{padding:"0 25px",minWidth:"100px",height:t.cellHeight*("object"==__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_typeof___default()(e[a])?e[a].rowSpan:1)+"px"}},["object"==__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_typeof___default()(e[a])?e[a].value:e[a]]),l=_(__WEBPACK_IMPORTED_MODULE_10__input_vue__.a,{style:{minWidth:"100px"},attrs:{value:"object"==__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_typeof___default()(e[a])?e[a].value:e[a],parentColumnId:t.uniqueKey&&e[t.uniqueKey]?e[t.uniqueKey]:e.table_id,addStyle:"td_id_"+e.table_id+"_"+a+"_"+n!=t.curEditTdId?__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default()({borderTop:"none",borderBottom:"none",borderLeft:"none",borderRight:"none",borderRadius:0},t.cellStyle):{},editPropName:a,componentName:t.$options.name,readonly:"td_id_"+e.table_id+"_"+a+"_"+n!=t.curEditTdId}});return t.bodyNotShowPropData.includes(a)?null:_("td",{attrs:{id:"td_id_"+e[t.uniqueKey]+"_"+a+"_"+n,colspan:"1",rowspan:"object"==__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_typeof___default()(e[a])?e[a].rowSpan:1},style:{borderLeft:"1px solid "+t.tableBorderColor,borderBottom:"1px solid "+t.tableBorderColor,verticalAlign:"middle"},on:{click:t.tdClickHandler.bind(t,"td_id_"+e[t.uniqueKey]+"_"+a+"_"+n,t.getHeaderItemByKey(a).isCanEdit,a,e)}},[t.isReadOnly?r:t.getHeaderItemByKey(a).isCanEdit?"object"==__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_typeof___default()(e[a])&&0==e[a].isCanEdit?r:l:r])})])},giveIdx2Item:function(e){var t=this,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e.map(function(e,n){e.sortIdx||(e.sortIdx=(_?_+"_":"")+n),e.classifyId=a,e.children&&e.children.length&&t.giveIdx2Item(e.children,e.sortIdx,a+1)})}},render:function(){return(0,arguments[0])("section",{class:"nui-scroll"},[this.renderPanelBody()])}}},cHvi:function(e,t,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={tableBody:[{explain:"",code:"01000001",rate:{fnParms:[{key:"thisYearValue",code:"01000001"},{key:"lastYearValue",code:"01000001"}],fn:"function(a,b){return((a-b)/b)*100+'%'}",value:"",cal:""},thisYearValue:{value:"1",isColPlus:1},lastYearValue:"",index:"工业总产值（可比价）",uint:"万元"},{explain:"",code:"01000002",thisYearValue:{value:"",isColPlus:1},rate:{fnParms:[{key:"thisYearValue",code:"01000002"},{key:"lastYearValue",code:"01000002"}],fn:"function(a,b){return((a-b)/b)*100+'%'}",value:"",cal:""},lastYearValue:"",index:"工业增加值",uint:"万元"},{explain:"",code:"01000003",thisYearValue:{value:"",isColPlus:1},rate:{fnParms:[{key:"thisYearValue",code:"01000003"},{key:"lastYearValue",code:"01000003"}],fn:"function(a,b){return((a-b)/b)*100+'%'}",value:"",cal:""},lastYearValue:"",index:"综合能源消费量(当量值)",uint:"万吨标准煤"},{explain:"",code:"01000004",thisYearValue:{fnParms:[{key:"thisYearValue",code:"01000001"},{key:"thisYearValue",code:"01000002"},{key:"thisYearValue",code:"01000003"}],fn:"",value:"",cal:"lj",isCanEdit:0},rate:"",lastYearValue:"",index:"合计",uint:"/"}],tableHeader:[{key:"index",title:"指标名称",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:1,colSpan:1,children:[]},{key:"uint",title:"计量单位",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:1,colSpan:1,children:[]},{key:"thisYearValue",title:"本期值",onlyOneCell:0,isCanEdit:1,isClick:0,rowSpan:1,colSpan:1,children:[]},{key:"lastYearValue",title:"上年同期值",onlyOneCell:0,isCanEdit:1,isClick:0,rowSpan:1,colSpan:1,children:[]},{key:"rate",title:"同比变化率",onlyOneCell:0,isCanEdit:0,isClick:0,rowSpan:1,colSpan:1,children:[]},{key:"explain",title:"产值及能耗消费变化情况说明",onlyOneCell:1,isCanEdit:1,isClick:0,rowSpan:1,colSpan:1,children:[]}]}},gDVc:function(e,t,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={tableBody:[{xuhao:"1",code:"0001",type:{value:"出线(底数)",rowSpan:2},name:"依黄甲线电度表抄表",alias:"PM_YHJX",note:"",mark:"B11"},{xuhao:"2",code:"0002",type:{value:"出线(底数)",rowSpan:2},name:"依黄乙线电度表抄表",alias:"PM_YHYX",note:"",mark:""},{xuhao:"3",code:"0003",type:"#9高备变抄表（底数）正向有功",name:"#9高备变抄表",alias:"PM_GBD_09",note:"",mark:"B23"},{xuhao:"4",code:"0004",type:{value:"发电机出口电度表抄表（底数）/发电量",rowSpan:3},name:"#1机发电机出口电度表抄表",alias:"PM_FDJCK_01",note:"",mark:""},{xuhao:"5",code:"0005",type:{value:"发电机出口电度表抄表（底数）/发电量",rowSpan:3},name:"#2机发电机出口电度表抄表",alias:"PM_FDJCK_02",note:"",mark:"B14"},{xuhao:"6",code:"0006",type:{value:"发电机出口电度表抄表（底数）/发电量",rowSpan:3},name:"#3机发电机出口电度表抄表",alias:"PM_FDJCK_03",note:"",mark:"B15"}],tableHeader:[{title:"序号",key:"xuhao",rowSpan:2,isCanEdit:!1},{title:"类型",key:"type",rowSpan:2,isCanEdit:!1},{title:"云端表计名称",key:"name",rowSpan:2,isCanEdit:!0},{title:"表计别名",key:"alias",rowSpan:2,isCanEdit:!0},{title:"A/B泵",key:"note",isCanEdit:!0,children:[{title:"标注",isCanEdit:!0}]},{title:"计算标签",rowSpan:2,key:"mark",isCanEdit:!1}]}},jygi:function(e,t,_){"use strict";var a=_("jkVH"),n={name:"My-Input",props:{value:{type:[String,Number]},addStyle:{type:Object,default:function(){return new Object}},readonly:{type:Boolean,default:!1},parentColumnId:{type:String,default:""},editPropName:{type:String,default:""},componentName:{type:String}},data:function(){return{newValue:""}},watch:{value:{handler:function(e){this.newValue=e},immediate:!0},newValue:{handler:function(e){var t={value:""+e,prop:this.editPropName,parentColumnId:this.parentColumnId};try{a.a.emit("inputChange-"+this.componentName,t)}catch(_){console.error("error",t,e,_)}}}}},r={render:function(){var e=this,t=e.$createElement,_=e._self._c||t;return _("div",[_("div",{staticClass:"el-input"},[_("input",{directives:[{name:"model",rawName:"v-model",value:e.newValue,expression:"newValue"}],staticClass:"el-input__inner__1",style:e.addStyle,attrs:{type:"text",disabled:e.readonly,parentColumnId:e.parentColumnId,autocomplete:"off",readonly:e.readonly},domProps:{value:e.newValue},on:{input:function(t){t.target.composing||(e.newValue=t.target.value)}}})])])},staticRenderFns:[]};var l=_("VU/8")(n,r,!1,function(e){_("8ZEf")},"data-v-627824d3",null);t.a=l.exports},"k7O+":function(e,t,_){"use strict";var a=_("jkVH"),n={props:{propContent:{type:String},isReadonly:{type:Boolean,default:!1},addStyle:{type:Object,default:function(){return new Object}}},data:function(){return{textAreaContent:""}},mounted:function(){this.textAreaContent=this.propContent},watch:{textAreaContent:{handler:function(e){a.a.emit("textarea-change",e)}}}},r={render:function(){var e=this,t=e.$createElement,_=e._self._c||t;return _("div",{staticClass:"el-textarea"},[_("textarea",{directives:[{name:"model",rawName:"v-model",value:e.textAreaContent,expression:"textAreaContent"}],staticClass:"el-textarea__inner__1",staticStyle:{"border-top":"none","border-bottom":"none","border-left":"none","line-height":"30px",margin:"0",padding:"0"},style:e.addStyle,attrs:{readonly:e.isReadonly,wrap:"off",placeholder:"说明"},domProps:{value:e.textAreaContent},on:{input:function(t){t.target.composing||(e.textAreaContent=t.target.value)}}})])},staticRenderFns:[]};var l=_("VU/8")(n,r,!1,function(e){_("tP6F")},"data-v-1416f132",null);t.a=l.exports},kNls:function(e,t,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={tableBody:[{explain:"情况说明",code:"01000001",thisYearValue:"",rate:"",lastYearValue:"10",index:"工业总产值（可比价）",uint:"万元"},{explain:"",code:"01000002",thisYearValue:"5",rate:"",lastYearValue:"",index:"工业增加值",uint:"万元"},{explain:"",code:"01000006",thisYearValue:"",rate:"",lastYearValue:"10",index:"能源管理师人数",uint:"人"},{explain:"",code:"01000007",thisYearValue:"",rate:"",lastYearValue:"",index:"综合能源消费量(当量值)",uint:"万吨标准煤"},{explain:"",code:"01000008",thisYearValue:"6",rate:"",lastYearValue:"",index:"生产成本",uint:"万元"},{explain:"",code:"01000009",thisYearValue:"8",rate:"20%",lastYearValue:"10",index:"能源消费成本",uint:"万元"},{explain:"",code:"01000010",thisYearValue:"",rate:"",lastYearValue:"10",index:"能源消费占生产成本比例",uint:"%"},{explain:"",code:"01000011",thisYearValue:"",rate:"",lastYearValue:"12",index:"单位产值综合能耗",uint:"吨标准煤/万元"},{explain:"",code:"01000012",thisYearValue:"",rate:"",lastYearValue:"11",index:"单位工业增加值能耗",uint:"吨标准煤/万元"},{explain:"",code:"01000004",thisYearValue:"",rate:"",lastYearValue:"",index:"上缴利税",uint:"万元"},{explain:"",code:"01000005",thisYearValue:"",rate:"",lastYearValue:"10",index:"从业人员",uint:"人"},{explain:"",code:"01000003",thisYearValue:"5",rate:"100%",lastYearValue:"10",index:"销售收入",uint:"万元"}],tableHeader:[{key:"index",title:"指标名称",onlyOneCell:0,isCanEdit:0,children:[]},{key:"uint",title:"计量单位",onlyOneCell:0,isCanEdit:0,children:[]},{key:"thisYearValue",title:"本期值",onlyOneCell:0,isCanEdit:1,children:[]},{key:"lastYearValue",title:"上年同期值",onlyOneCell:0,isCanEdit:1,children:[]},{key:"rate",title:"同比变化率",onlyOneCell:0,isCanEdit:1,children:[]},{key:"explain",title:"产值及能耗消费变化情况说明",onlyOneCell:1,rowSpan:1,isCanEdit:1,children:[]}]}},sMHs:function(e,t,_){"use strict";var a=_("jygi"),n={name:"staticTable",props:{tableData:{type:Array,default:function(){return new Array}},tableBorderColor:{type:String,default:"#ddd"},cellHeight:{type:[String,Number],default:"40"}},components:{MyInput:a.a},methods:{renderPanelBody:function(){var e=this,t=this.$createElement;return t("table",{style:{border:"1px solid "+this.tableBorderColor,borderBottom:"none",width:"100%"}},[t("tbody",{style:{width:"100%"}},[this.tableData.map(function(t){return e.renderTableColumn(t)})])])},renderTableColumn:function(e){var t=this,_=this.$createElement;return _("tr",{class:"flexBox",style:{width:"100%"}},[e.map(function(e){return _("td",{class:"flexBox flex-1 ",style:{borderBottom:"1px solid "+t.tableBorderColor}},[_("span",{class:"flexBox",style:{flex:1}},[e.name]),_(a.a,{style:{flex:2},attrs:{addStyle:{borderTop:"none",borderBottom:"none",borderRadius:"0"},value:e.value,readonly:!0}})])})])}},render:function(){return(0,arguments[0])("section",[this.renderPanelBody()])}},r=_("VU/8")(n,null,!1,null,null,null);t.a=r.exports},tP6F:function(e,t){},taOr:function(e,t,_){"use strict";var a=_("U9/r");var n=function(e){_("Q7jJ")},r=_("VU/8")(a.a,null,!1,n,null,null);t.a=r.exports},uYlW:function(e,t,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={tableBody:[{name:"工业总产值",bqz:"100",lastyear_value:"",unit:"万元",change_rate:"",shuoming:"说明123"},{unit:"万元",name:"工业增加值",bqz:"120",lastyear_value:"",change_rate:"85%",shuoming:"说明aaa"},{name:"销售收入",unit:"万元",bqz:"100",lastyear_value:"120",change_rate:"",shuoming:"说明ccc"}],tableHeader:[{title:"指标名称",key:"name"},{title:"计量单位",key:"unit"},{title:"本期值",key:"bqz"},{title:"上年同期值",key:"lastyear_value"},{title:"同比变化率",key:"change_rate"},{title:"产值及能耗消费变化情况说明",key:"shuoming"}]}}},["NHnr"]);
//# sourceMappingURL=app.dd862427f25d9cbcefd3.js.map